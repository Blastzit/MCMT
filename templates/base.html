{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maths Curriculum Mapping Tool</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.9.0/main.min.css"
          rel="stylesheet" />
    {% block head_scripts %}
    {% endblock head_scripts %}
  </head>
  <body class="bg-white">
    <nav class="bg-white border-b border-gray-200 sticky top-0 start-0 w-full z-20">
      <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
        <a href="{% url 'index' %}" class="flex items-center">
          <img src="{% static 'icons/map-legend.svg' %}" class="h-8 mr-3" alt="Logo" />
          <span class="self-center text-2xl font-semibold whitespace-nowrap">MCMT</span>
        </a>
        <div class="flex lg:order-2">
          <button type="button"
                  data-collapse-toggle="navbar-search"
                  aria-controls="navbar-search"
                  aria-expanded="false"
                  class="lg:hidden text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 rounded-lg text-sm p-2.5 mr-1">
            <svg class="w-5 h-5"
                 aria-hidden="true"
                 xmlns="http://www.w3.org/2000/svg"
                 fill="none"
                 viewBox="0 0 20 20">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
            </svg>
            <span class="sr-only">Search</span>
          </button>
          <div class="relative hidden lg:block">
            <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
              <svg class="w-4 h-4 text-gray-500"
                   aria-hidden="true"
                   xmlns="http://www.w3.org/2000/svg"
                   fill="none"
                   viewBox="0 0 20 20">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
              </svg>
              <span class="sr-only">Search</span>
            </div>
            <input type="text"
                   id="search-navbar"
                   class="block w-full p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                   placeholder="Search...">
          </div>
          <button data-collapse-toggle="navbar-search"
                  type="button"
                  class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200"
                  aria-controls="navbar-search"
                  aria-expanded="false">
            <span class="sr-only">Open main menu</span>
            <svg class="w-5 h-5"
                 aria-hidden="true"
                 xmlns="http://www.w3.org/2000/svg"
                 fill="none"
                 viewBox="0 0 17 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15" />
            </svg>
          </button>
        </div>
        <div class="items-center justify-between hidden w-full lg:flex lg:w-auto lg:order-1"
             id="navbar-search">
          <div class="relative mt-3 lg:hidden">
            <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
              <svg class="w-4 h-4 text-gray-500"
                   aria-hidden="true"
                   xmlns="http://www.w3.org/2000/svg"
                   fill="none"
                   viewBox="0 0 20 20">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
              </svg>
            </div>
            <input type="text"
                   id="search-navbar"
                   class="block w-full p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                   placeholder="Search...">
          </div>
          <ul class="flex flex-col p-4 lg:p-0 mt-4 font-medium border border-gray-100 rounded-lg bg-gray-50 lg:flex-row lg:space-x-8 lg:mt-0 lg:border-0 lg:bg-white">
            {% for tab in tabs %}
              <li>
                <a href="{{ tab.url }}"
                   class="block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 lg:hover:bg-transparent lg:hover:text-blue-500 lg:p-0 {% if request.path == tab.url %}text-blue-500{% endif %}">{{ tab.name }}</a>
              </li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </nav>
    <main class="max-w-screen-xl p-6 mx-auto mb-14">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">
        {% block header %}
          Default Header
        {% endblock header %}
      </h2>
      {% block content %}
      {% endblock content %}
      <div id="feedback-box"
           class="hidden opacity-0 z-20 fixed right-2 bottom-16 max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow transition-all duration-300">
        <div class="flex justify-between items-center mb-2">
          <h5 class="text-xl font-bold tracking-tight text-gray-900">Give us feedbacks!</h5>
          <button id="toggle-feedback" class="text-gray-500 hover:text-gray-700">
            <svg class="w-3.5 h-3.5"
                 xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 24 24">
              <path stroke="currentColor" stroke-width="2" d="M21,13H0V11H21V13Z" />
            </svg>
          </button>
        </div>
        <p class="mb-3 font-normal text-gray-700">
          Help make this tool better by sharing your feedbacks. We'd love to hear what you think.
        </p>
        <a href="https://imperial.eu.qualtrics.com/jfe/form/SV_79xc0YkrhEaqg6y"
           target="_blank"
           class="inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300">
          Feedback form
          <svg class="rtl:rotate-180 w-3.5 h-3.5 ms-2"
               aria-hidden="true"
               xmlns="http://www.w3.org/2000/svg"
               fill="none"
               viewBox="0 0 14 10">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9" />
          </svg>
        </a>
      </div>
      <div id="feedback-btn"
           class="hidden opacity-0 z-10 fixed right-2 bottom-16 transition-all duration-300">
        <a href="https://imperial.eu.qualtrics.com/jfe/form/SV_79xc0YkrhEaqg6y"
           target="_blank"
           class="inline-flex right-2 bottom-4 items-center px-3 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300">
          Feedback form
          <svg class="rtl:rotate-180 w-3.5 h-3.5 ms-2"
               aria-hidden="true"
               xmlns="http://www.w3.org/2000/svg"
               fill="none"
               viewBox="0 0 14 10">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9" />
          </svg>
        </a>
      </div>
    </main>
    <footer class="fixed bottom-0 left-0 z-20 w-full p-4 bg-white border-t border-gray-200 shadow">
      <div class="max-w-screen-xl mx-auto flex items-center justify-between">
        <span class="text-sm text-gray-500 text-center">Â© 2024 <a href="https://www.imperial.ac.uk"
    target="_blank"
    class="hover:underline">Imperial College London</a>.
        </span>
        <ul class="flex flex-wrap items-center text-sm font-medium text-gray-500 mt-0">
          <li>
            <a href="{% url 'our_team' %}" class="hover:underline me-6">Our Team</a>
          </li>
          <li>
            <a href="#" class="hover:underline"></a>
            <button id="usefulLinksBtn"
                    data-dropdown-toggle="usefulLinks"
                    data-dropdown-placement="top-end"
                    data-dropdown-offset-distance="25"
                    class="hover:underline">Useful Links</button>
            <!-- Dropdown menu -->
            <div id="usefulLinks"
                 class="z-10 hidden font-normal bg-white divide-y divide-gray-100 rounded-lg shadow w-44">
              <ul class="py-2 text-sm text-gray-700"
                  aria-labelledby="dropdownLargeButton">
                <li>
                  <a href="https://bb.imperial.ac.uk"
                     target="_blank"
                     class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Blackboard</a>
                </li>
                <li>
                  <a href="https://imperial.cloud.panopto.eu/"
                     target="_blank"
                     class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Panopto</a>
                </li>
                <li>
                  <a href="https://my.imperial.ac.uk/"
                     target="_blank"
                     class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">My Imperial</a>
                </li>
              </ul>
            </div>
          </li>
        </ul>
      </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.9.0/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>
    {% block body_scripts %}
    {% endblock body_scripts %}
    <script>
      function setCookie(name, value, days) {
        var expires = "";
        if (days) {
          var date = new Date();
          date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
          expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "") + expires + "; path=/";
      }

      function getCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for (var i = 0; i < ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0) == ' ') c = c.substring(1, c.length);
          if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
      }

      document.addEventListener('DOMContentLoaded', function() {
        var feedbackBox = document.getElementById('feedback-box');
        var toggleFeedback = document.getElementById('toggle-feedback');
        var feedbackButton = document.getElementById('feedback-btn');

        if (getCookie('feedbackMinimized')) {
          feedbackButton.classList.remove('hidden', 'opacity-0');
        } else {
          feedbackBox.classList.remove('hidden', 'opacity-0');
        }

        toggleFeedback.addEventListener('click', function() {
          feedbackBox.classList.add('opacity-0');
          setTimeout(function() {
            feedbackBox.classList.add('hidden');
          }, 300);
          feedbackButton.classList.remove('hidden', 'opacity-0');
          setCookie('feedbackMinimized', 'true', 365);
        });
      });
    </script>
  </body>
</html>
<!--  dark:.+?(?=") -->
